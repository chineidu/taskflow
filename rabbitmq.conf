# RabbitMQ Configuration File
# Reference: https://www.rabbitmq.com/configure.html

# Allow guest user to connect from non-localhost addresses
loopback_users.guest = false

# Memory Management
# RabbitMQ will stop accepting new messages when it uses more than 40% of available RAM
vm_memory_high_watermark.relative = 0.4

# Disk Space Management
# RabbitMQ will stop accepting new messages when free disk space drops below 1GB
disk_free_limit.absolute = 1GB

# Connection & Heartbeats
# Timeout for heartbeats (seconds)
heartbeat = 60

# Consumer Timeout
# If a consumer does not acknowledge a message within this time (milliseconds), 
# the connection will be closed. Default is 30 minutes (1800000).
# Increased to 1 hour for potentially long-running tasks.
consumer_timeout = 3600000

# Logging
log.console = true
log.console.level = info

# Management Plugin
management.tcp.port = 15672
# Statistics collection interval (milliseconds)
collect_statistics_interval = 5000

# NOTE: Message TTL (Time-To-Live) is typically set per-queue or via policies.
# To set a global policy for message TTL (e.g., 24 hours), you would use the CLI:
# rabbitmqctl set_policy expiry ".*" '{"message-ttl":86400000}' --apply-to queues
